{"version":3,"file":"index.e5899a1fcc8063dc018c.hot-update.js","mappings":"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","sources":["webpack://gutenbuild/./src/components/tabs/data/index.js","webpack://gutenbuild/./src/components/tabs/data/store-view.js","webpack://gutenbuild/webpack/runtime/getFullHash"],"sourcesContent":["/**\n * External dependencies\n */\nimport { useState } from '@wordpress/element';\n\nimport ClickableList from '../../clickable-list';\nimport { DataTabProvider, useDataTab } from './context';\nimport {\n\tFlex,\n\tButton,\n\tPanelBody,\n\tTextareaControl,\n\tIcon,\n\tSearchControl,\n} from '@wordpress/components';\nimport { external, arrowLeft } from '@wordpress/icons';\nimport ReactJson from 'react-json-view';\nimport './style.scss';\n\n/**\n * Internal dependencies\n */\nimport StoreView from './store-view';\n\nconst MySearchControl = ( { value, onChange } ) => (\n\t<SearchControl\n\t\tclassName=\"gutenbuild-searchcontrol\"\n\t\tlabel={ 'Search' }\n\t\thideLabelFromVision={ true }\n\t\tvalue={ value }\n\t\tonChange={ ( val ) => onChange( val ) }\n\t/>\n);\n\nconst getDocLink = ( module ) => {\n\treturn `https://developer.wordpress.org/block-editor/reference-guides/data/data-core${ module }`;\n};\n\nconst alphaSort = ( a, b ) => {\n\tif ( b.text.startsWith( '_' ) ) {\n\t\treturn -1;\n\t}\n\n\treturn a.text.localeCompare( b.text );\n};\n\nconst getDocModule = ( activeStore ) => {\n\tconst s = activeStore.split( '/' );\n\n\t// Not Core\n\tif ( s[ 1 ] ) {\n\t\treturn '-' + s[ 1 ];\n\t}\n\n\treturn '';\n};\n\nconst ViewHeader = ( { title, link, onBack } ) => {\n\treturn (\n\t\t<Flex\n\t\t\tclassName=\"gutenbuild-view-header\"\n\t\t\talign=\"center\"\n\t\t\tjustify=\"flex-start\"\n\t\t>\n\t\t\t<div style={ { paddingRight: '8px', height: '24px' } }>\n\t\t\t\t<a href=\"#\" onClick={ onBack }>\n\t\t\t\t\t<Icon icon={ arrowLeft } />\n\t\t\t\t</a>\n\t\t\t</div>\n\t\t\t<Flex align=\"center\" justify=\"flex-start\">\n\t\t\t\t<a href={ link } target=\"_blank\">\n\t\t\t\t\t{ title }\n\t\t\t\t</a>\n\t\t\t\t<Icon size={ 18 } icon={ external } />\n\t\t\t</Flex>\n\t\t</Flex>\n\t);\n};\n\n\n\nconst ActiveStoreView = () => {\n\tconst {\n\t\taction,\n\t\tsetAction,\n\t\tactiveStore,\n\t\tsetActiveStore,\n\t\tsetActiveFunction,\n\t} = useDataTab();\n\tconst [ keyword, setKeyword ] = useState( '' );\n\n\tconst mappedFunctions = Object.keys( wp.data[ action ]( activeStore ) )\n\t\t.map( ( i ) => {\n\t\t\treturn {\n\t\t\t\ttext: `${ i }()`,\n\t\t\t\tvalue: i,\n\t\t\t};\n\t\t} )\n\t\t.sort( alphaSort );\n\n\tconst docLink = getDocLink( getDocModule( activeStore ) );\n\n\treturn (\n\t\t<div>\n\t\t\t<ViewHeader\n\t\t\t\ttitle={ activeStore }\n\t\t\t\tlink={ docLink }\n\t\t\t\tonBack={ () => setActiveStore( null ) }\n\t\t\t/>\n\t\t\t<PanelBody>\n\t\t\t\t<MySearchControl\n\t\t\t\t\tvalue={ keyword }\n\t\t\t\t\tonChange={ ( val ) => setKeyword( val ) }\n\t\t\t\t/>\n\t\t\t</PanelBody>\n\n\t\t\t<Flex style={ { padding: '1rem' } }>\n\t\t\t\t<span>\n\t\t\t\t\t<input\n\t\t\t\t\t\ttype=\"radio\"\n\t\t\t\t\t\tid=\"selector\"\n\t\t\t\t\t\tname=\"action\"\n\t\t\t\t\t\tvalue=\"select\"\n\t\t\t\t\t\tchecked={ action === 'select' }\n\t\t\t\t\t\tonChange={ ( i ) => setAction( 'select' ) }\n\t\t\t\t\t/>\n\t\t\t\t\t<label htmlFor=\"selector\">Selectors</label>\n\t\t\t\t</span>\n\t\t\t\t<span>\n\t\t\t\t\t<input\n\t\t\t\t\t\ttype=\"radio\"\n\t\t\t\t\t\tid=\"actions\"\n\t\t\t\t\t\tname=\"action\"\n\t\t\t\t\t\tvalue=\"dispatch\"\n\t\t\t\t\t\tonChange={ ( i ) => setAction( 'dispatch' ) }\n\t\t\t\t\t\tchecked={ action === 'dispatch' }\n\t\t\t\t\t/>\n\t\t\t\t\t<label htmlFor=\"actions\">Actions</label>\n\t\t\t\t</span>\n\t\t\t</Flex>\n\n\t\t\t<ClickableList\n\t\t\t\titems={ mappedFunctions.filter( ( i ) =>\n\t\t\t\t\ti.text.toLowerCase().includes( keyword.toLowerCase() )\n\t\t\t\t) }\n\t\t\t\tonClick={ ( i ) => setActiveFunction( i.value ) }\n\t\t\t/>\n\t\t</div>\n\t);\n};\n\nconst ActiveFunctionView = () => {\n\tconst {\n\t\taction,\n\t\tactiveStore,\n\t\tactiveFunction,\n\t\tsetActiveFunction,\n\t} = useDataTab();\n\tconst [ output, setOutput ] = useState();\n\tconst [ isOutputObject, setOutputObject ] = useState();\n\n\tconst callFunction = async () => {\n\t\ttry {\n\t\t\tlet out = await wp.data[ action ]( activeStore )[\n\t\t\t\tactiveFunction\n\t\t\t]();\n\n\t\t\tif ( out === undefined ) {\n\t\t\t\tout = 'undefined';\n\t\t\t}\n\n\t\t\tsetOutput( out );\n\t\t\tsetOutputObject( _.isObject( out ) );\n\t\t} catch ( e ) {\n\t\t\tsetOutput(\n\t\t\t\t\"Error running function. Most likely missing arguments that currently isn't supported.\"\n\t\t\t);\n\t\t}\n\t};\n\n\tconst docLink = `${ getDocLink(\n\t\tgetDocModule( activeStore )\n\t) }/#${ activeFunction.toLowerCase() }`;\n\n\treturn (\n\t\t<div>\n\t\t\t<ViewHeader\n\t\t\t\ttitle={ activeFunction }\n\t\t\t\tlink={ docLink }\n\t\t\t\tonBack={ () => setActiveFunction( null ) }\n\t\t\t/>\n\t\t\t<PanelBody>\n\t\t\t\t<Button variant=\"primary\" onClick={ callFunction }>\n\t\t\t\t\tRun Function\n\t\t\t\t</Button>\n\t\t\t</PanelBody>\n\t\t\t<PanelBody title=\"Output\">\n\t\t\t\t{ isOutputObject ? (\n\t\t\t\t\t<ReactJson src={ output } />\n\t\t\t\t) : (\n\t\t\t\t\t<TextareaControl value={ JSON.stringify( output ) } />\n\t\t\t\t) }\n\t\t\t</PanelBody>\n\t\t</div>\n\t);\n};\n\nconst DataTab = () => {\n\tconst { activeStore, activeFunction } = useDataTab();\n\n\tif ( activeStore && ! activeFunction ) {\n\t\treturn <ActiveStoreView />;\n\t}\n\n\tif ( activeFunction ) {\n\t\treturn <ActiveFunctionView />;\n\t}\n\n\treturn <StoreView />;\n};\n\nexport default ( props ) => (\n\t<DataTabProvider>\n\t\t<DataTab { ...props } />\n\t</DataTabProvider>\n);\n","const StoreView = () => {\n\tconst { stores, setActiveStore, search } = useDataTab();\n\tconst [ keyword, setKeyword ] = useState( '' );\n\tconst [ searchResults, setSearchResults ] = useState( [] );\n\n\tconst mappedItems = Object.keys( stores )\n\t\t.map( ( i ) => {\n\t\t\treturn {\n\t\t\t\ttext: stores[ i ].store.name,\n\t\t\t\tvalue: stores[ i ].store.name,\n\t\t\t};\n\t\t} )\n\t\t.sort( alphaSort );\n\n\treturn (\n\t\t<div>\n\t\t\t<PanelBody>\n\t\t\t\t<MySearchControl\n\t\t\t\t\tvalue={ keyword }\n\t\t\t\t\tonChange={ ( val ) => {\n\t\t\t\t\t\tif ( val.trim().length > 0 ) {\n\t\t\t\t\t\t\tlet s = search( val );\n\t\t\t\t\t\t\ts = s.map( ( i ) => {\n\t\t\t\t\t\t\t\treturn {\n\t\t\t\t\t\t\t\t\ttext: i,\n\t\t\t\t\t\t\t\t\tvalue: i,\n\t\t\t\t\t\t\t\t};\n\t\t\t\t\t\t\t} );\n\t\t\t\t\t\t\tsetSearchResults( s );\n\t\t\t\t\t\t} else {\n\t\t\t\t\t\t\tsetSearchResults( [] );\n\t\t\t\t\t\t}\n\n\t\t\t\t\t\tsetKeyword( val );\n\t\t\t\t\t} }\n\t\t\t\t/>\n\t\t\t</PanelBody>\n\n\t\t\t<ClickableList\n\t\t\t\titems={ searchResults.length ? searchResults : mappedItems }\n\t\t\t\tonClick={ ( i ) => setActiveStore( i.value ) }\n\t\t\t/>\n\t\t</div>\n\t);\n};\n\nexport default StoreView;","__webpack_require__.h = function() { return \"fa8834172af2aa162fea\"; }"],"names":["useState","ClickableList","DataTabProvider","useDataTab","Flex","Button","PanelBody","TextareaControl","Icon","SearchControl","external","arrowLeft","ReactJson","StoreView","MySearchControl","value","onChange","val","getDocLink","module","alphaSort","a","b","text","startsWith","localeCompare","getDocModule","activeStore","s","split","ViewHeader","title","link","onBack","paddingRight","height","ActiveStoreView","action","setAction","setActiveStore","setActiveFunction","keyword","setKeyword","mappedFunctions","Object","keys","wp","data","map","i","sort","docLink","padding","filter","toLowerCase","includes","ActiveFunctionView","activeFunction","output","setOutput","isOutputObject","setOutputObject","callFunction","out","undefined","_","isObject","e","JSON","stringify","DataTab","props","stores","search","searchResults","setSearchResults","mappedItems","store","name","trim","length"],"sourceRoot":""}